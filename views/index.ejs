<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script type="text/javascript" src="../public/javascripts/jspdf/jspdf.js"></script>
        <script type="text/javascript" src="../public/javascripts/jspdf/libs/FileSaver.js/FileSaver.js"></script>
        <script type="text/javascript" src="../public/javascripts/jquery/jquery-1.11.3.js"></script>
        <script type="text/javascript" src="../public/javascripts/jspdf/libs/Downloadify/js/swfobject.js"></script>
        <script type="text/javascript" src="../public/javascripts/jspdf/libs/html2pdf.js"></script>
        <script type="text/javascript" src="../public/javascripts/jspdf/libs/html2canvas/dist/html2canvas.js"></script>
        <script type="text/javascript" src="../public/javascripts/jspdf/plugins/standard_fonts_metrics.js"></script>
        <script type="text/javascript" src="../public/javascripts/iframetoimage/dist/iframe2image.js"></script>

       <script type="text/javascript">
            function download() {

                var html2obj = html2canvas($('#iframeid'));
                alert(html2obj);
                var queue  = html2obj.parse();
                alert(queue);
                var canvas = html2obj.render(queue);
                alert(canvas);
                var img = canvas.toDataURL();
                alert(img);

                window.open(img);
            }

           function print(){
               console.log('clicked');
               $.ajax({
                   url: '/print',
                   success: function(){
                       console.log('success')
                   },
                   error: function(){
                       console.log('error')
                   }
               });
           }as
        </script>


    </head>
    <body>
         <div id="content">
            <iframe src="https://tut.by" width="1000" height="400" id="iframeid"></iframe>
         </div>
            <input type="button" value="Download" id="download" onclick="print()">
    </body>
</html>